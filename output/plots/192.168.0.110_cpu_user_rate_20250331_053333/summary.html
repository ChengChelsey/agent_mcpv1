<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>192.168.0.110 cpu_user_rate 异常检测汇总图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #container { width: 100%; height: 100vh; }
        #chart_summary_958d4476 { width: 100%; height: 650px; }
        
        /* 自定义异常点提示样式 */
        .anomaly-tooltip {
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #333;
            max-width: 300px;
        }
        .anomaly-tooltip-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #d23;
        }
        .anomaly-tooltip-item {
            display: flex;
            margin: 2px 0;
        }
        .anomaly-tooltip-label {
            font-weight: bold;
            margin-right: 8px;
            color: #666;
            min-width: 60px;
        }
        .anomaly-tooltip-value {
            color: #333;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="chart_summary_958d4476"></div>
    </div>
    <script>
        var chart = echarts.init(document.getElementById('chart_summary_958d4476'));
        var option = {"title": {"text": "192.168.0.110 cpu_user_rate 异常检测汇总图", "left": "center"}, "tooltip": {"trigger": "axis", "axisPointer": {"type": "cross"}, "confine": true, "backgroundColor": "rgba(255, 255, 255, 0.9)", "borderColor": "#ccc", "borderWidth": 1, "textStyle": {"color": "#333"}, "extraCssText": "box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);"}, "legend": {"top": 30, "data": ["原始序列", "CUSUM 辅助曲线"]}, "grid": {"left": "3%", "right": "8%", "bottom": "8%", "containLabel": true}, "toolbox": {"feature": {"saveAsImage": {}, "dataZoom": {}, "restore": {}}}, "xAxis": {"type": "time", "name": "时间", "axisLabel": {"formatter": "{yyyy}-{MM}-{dd} {HH}:{mm}", "rotate": 30, "margin": 15}}, "yAxis": [{"type": "value", "name": "数值", "position": "left"}, {"type": "value", "name": "辅助曲线值", "position": "right", "splitLine": {"show": false}}], "series": [{"name": "原始序列", "type": "line", "data": [[1743177600000, 0.16], [1743177900000, 0.16], [1743178200000, 0.15], [1743178500000, 0.13], [1743178800000, 0.16], [1743179100000, 0.14], [1743179400000, 0.16], [1743179700000, 0.14], [1743180000000, 0.15], [1743180300000, 0.18], [1743180600000, 0.15], [1743180900000, 0.14], [1743181200000, 0.18], [1743181500000, 0.14], [1743181800000, 0.2], [1743182100000, 0.86], [1743182400000, 0.93], [1743182700000, 0.13], [1743183000000, 0.14], [1743183300000, 0.17], [1743183600000, 0.15], [1743183900000, 0.18], [1743184200000, 0.14], [1743184500000, 0.12], [1743184800000, 0.15], [1743185100000, 0.13], [1743185400000, 0.15], [1743185700000, 0.12], [1743186000000, 1.67], [1743186300000, 0.13], [1743186600000, 0.16], [1743186900000, 0.11], [1743187200000, 0.15], [1743187500000, 0.2], [1743187800000, 0.15], [1743188100000, 0.12], [1743188400000, 0.15], [1743188700000, 0.12], [1743189000000, 0.14], [1743189300000, 0.12], [1743189600000, 1.71], [1743189900000, 0.13], [1743190200000, 0.13], [1743190500000, 0.14], [1743190800000, 0.13], [1743191100000, 0.14], [1743191400000, 0.14], [1743191700000, 0.14], [1743192000000, 0.14], [1743192300000, 0.12], [1743192600000, 0.14], [1743192900000, 0.15], [1743193200000, 1.67], [1743193500000, 0.13], [1743193800000, 0.13], [1743194100000, 0.13], [1743194400000, 0.14], [1743194700000, 0.14], [1743195000000, 0.14], [1743195300000, 0.16], [1743195600000, 0.14], [1743195900000, 0.13], [1743196200000, 0.13], [1743196500000, 0.19], [1743196800000, 1.66], [1743197100000, 0.13], [1743197400000, 0.13], [1743197700000, 0.13], [1743198000000, 0.13], [1743198300000, 0.12], [1743198600000, 0.17], [1743198900000, 0.14], [1743199200000, 0.16], [1743199500000, 0.12], [1743199800000, 0.14], [1743200100000, 0.36], [1743200400000, 1.67], [1743200700000, 0.12], [1743201000000, 0.13], [1743201300000, 0.14], [1743201600000, 0.13], [1743201900000, 0.14], [1743202200000, 0.12], [1743202500000, 0.14], [1743202800000, 0.14], [1743203100000, 0.14], [1743203400000, 0.12], [1743203700000, 0.36], [1743204000000, 1.67], [1743204300000, 0.23], [1743204600000, 0.15], [1743204900000, 0.14], [1743205200000, 0.14], [1743205500000, 0.11], [1743205800000, 0.16], [1743206100000, 0.12], [1743206400000, 0.15], [1743206700000, 0.16], [1743207000000, 0.16], [1743207300000, 0.44], [1743207600000, 1.68], [1743207900000, 0.12], [1743208200000, 0.13], [1743208500000, 0.15], [1743208800000, 0.13], [1743209100000, 0.14], [1743209400000, 0.13], [1743209700000, 0.13], [1743210000000, 0.15], [1743210300000, 0.14], [1743210600000, 0.15], [1743210900000, 0.5], [1743211200000, 1.68], [1743211500000, 0.12], [1743211800000, 0.16], [1743212100000, 0.12], [1743212400000, 0.15], [1743212700000, 0.11], [1743213000000, 0.16], [1743213300000, 0.11], [1743213600000, 0.18], [1743213900000, 0.13], [1743214200000, 0.11], [1743214500000, 0.71], [1743214800000, 1.67], [1743215100000, 0.12], [1743215400000, 0.14], [1743215700000, 0.14], [1743216000000, 0.13], [1743216300000, 0.14], [1743216600000, 0.13], [1743216900000, 0.15], [1743217200000, 0.16], [1743217500000, 0.13], [1743217800000, 0.18], [1743218100000, 0.71], [1743218400000, 1.68], [1743218700000, 0.11], [1743219000000, 0.13], [1743219300000, 0.13], [1743219600000, 0.17], [1743219900000, 0.11], [1743220200000, 0.53], [1743220500000, 0.13], [1743220800000, 0.14], [1743221100000, 0.13], [1743221400000, 1.63], [1743221700000, 2.19], [1743222000000, 1.64], [1743222300000, 0.14], [1743222600000, 0.22], [1743222900000, 0.23], [1743223200000, 0.13], [1743223500000, 0.13], [1743223800000, 0.12], [1743224100000, 0.25], [1743224400000, 0.14], [1743224700000, 0.13], [1743225000000, 0.15], [1743225300000, 0.63], [1743225600000, 1.71], [1743225900000, 0.12], [1743226200000, 0.13], [1743226500000, 0.11], [1743226800000, 0.19], [1743227100000, 0.13], [1743227400000, 0.14], [1743227700000, 0.13], [1743228000000, 0.15], [1743228300000, 0.15], [1743228600000, 0.13], [1743228900000, 0.67], [1743229200000, 1.67], [1743229500000, 0.12], [1743229800000, 0.12], [1743230100000, 0.14], [1743230400000, 0.15], [1743230700000, 0.15], [1743231000000, 0.15], [1743231300000, 0.14], [1743231600000, 0.17], [1743231900000, 0.13], [1743232200000, 0.17], [1743232500000, 0.64], [1743232800000, 1.68], [1743233100000, 0.12], [1743233400000, 0.14], [1743233700000, 0.13], [1743234000000, 0.14], [1743234300000, 0.13], [1743234600000, 0.13], [1743234900000, 0.12], [1743235200000, 0.14], [1743235500000, 0.16], [1743235800000, 0.14], [1743236100000, 0.71], [1743236400000, 1.69], [1743236700000, 0.15], [1743237000000, 0.21], [1743237300000, 0.16], [1743237600000, 0.14], [1743237900000, 0.14], [1743238200000, 0.16], [1743238500000, 0.14], [1743238800000, 0.17], [1743239100000, 0.17], [1743239400000, 0.15], [1743239700000, 0.73], [1743240000000, 1.68], [1743240300000, 0.16], [1743240600000, 0.15], [1743240900000, 0.19], [1743241200000, 0.14], [1743241500000, 0.13], [1743241800000, 0.16], [1743242100000, 0.13], [1743242400000, 0.16], [1743242700000, 0.15], [1743243000000, 0.16], [1743243300000, 0.69], [1743243600000, 1.68], [1743243900000, 0.13], [1743244200000, 0.14], [1743244500000, 0.13], [1743244800000, 0.16], [1743245100000, 0.11], [1743245400000, 0.13], [1743245700000, 0.11], [1743246000000, 0.16], [1743246300000, 0.14], [1743246600000, 0.14], [1743246900000, 0.64], [1743247200000, 1.68], [1743247500000, 0.13], [1743247800000, 0.13], [1743248100000, 0.15], [1743248400000, 0.13], [1743248700000, 0.15], [1743249000000, 0.13], [1743249300000, 0.13], [1743249600000, 0.15], [1743249900000, 0.13], [1743250200000, 0.16], [1743250500000, 0.47], [1743250800000, 1.7], [1743251100000, 0.15], [1743251400000, 0.14], [1743251700000, 0.13], [1743252000000, 0.16], [1743252300000, 0.15], [1743252600000, 0.14], [1743252900000, 0.15], [1743253200000, 0.14], [1743253500000, 0.13], [1743253800000, 0.15], [1743254100000, 0.52], [1743254400000, 1.68], [1743254700000, 0.15], [1743255000000, 0.14], [1743255300000, 0.17], [1743255600000, 0.15], [1743255900000, 0.14], [1743256200000, 0.15], [1743256500000, 0.13], [1743256800000, 0.16], [1743257100000, 0.12], [1743257400000, 0.14], [1743257700000, 0.55], [1743258000000, 1.69], [1743258300000, 0.11], [1743258600000, 0.16], [1743258900000, 0.15], [1743259200000, 0.13], [1743259500000, 0.13], [1743259800000, 0.17], [1743260100000, 0.13], [1743260400000, 0.13], [1743260700000, 0.15], [1743261000000, 0.13], [1743261300000, 0.53], [1743261600000, 1.66], [1743261900000, 0.12], [1743262200000, 0.14], [1743262500000, 0.13], [1743262800000, 0.14], [1743263100000, 0.12], [1743263400000, 0.14], [1743263700000, 0.11]], "symbolSize": 0, "lineStyle": {"width": 2}, "itemStyle": {"color": "#5470C6"}, "markPoint": {"data": [{"coord": [1743221700000, 2.19], "symbol": "circle", "symbolSize": 8, "itemStyle": {"color": "red"}, "label": {"formatter": "#1", "show": true, "position": "top"}, "anomalyInfo": {"id": 1, "method": "Z-Score", "timestamp": "2025-03-29 12:15:00", "value": 2.19, "explanation": "Z-Score=4.29，高于均值4.29个标准差"}}], "symbolSize": 8, "emphasis": {"scale": true}, "label": {"show": true}}, "markArea": {"data": [[{"xAxis": 1743222000000, "itemStyle": {"color": "rgba(255, 100, 100, 0.2)"}, "anomalyInfo": {"id": 2, "method": "CUSUM", "startTime": "2025-03-29 12:20:00", "endTime": "2025-03-29 12:30:00", "explanation": "CUSUM值=8.24，累计偏移超过阈值(6.0)"}}, {"xAxis": 1743222600000}]], "emphasis": {"focus": "self"}}}, {"name": "CUSUM 辅助曲线", "type": "line", "yAxisIndex": 1, "data": [[1743177600000, 0.0], [1743177900000, 0.0], [1743178200000, 0.0], [1743178500000, 0.0], [1743178800000, 0.0], [1743179100000, 0.0], [1743179400000, 0.0], [1743179700000, 0.0], [1743180000000, 0.0], [1743180300000, 0.0], [1743180600000, 0.0], [1743180900000, 0.0], [1743181200000, 0.0], [1743181500000, 0.0], [1743181800000, 0.0], [1743182100000, 0.5639321821317891], [1743182400000, 1.28713972863273], [1743182700000, 0.1900573966290814], [1743183000000, 0.0], [1743183300000, 0.0], [1743183600000, 0.0], [1743183900000, 0.0], [1743184200000, 0.0], [1743184500000, 0.0], [1743184800000, 0.0], [1743185100000, 0.0], [1743185400000, 0.0], [1743185700000, 0.0], [1743186000000, 2.406975684117686], [1743186300000, 1.3098933521140375], [1743186600000, 0.28107189055431103], [1743186900000, 0.0], [1743187200000, 0.0], [1743187500000, 0.0], [1743187800000, 0.0], [1743188100000, 0.0], [1743188400000, 0.0], [1743188700000, 0.0], [1743189000000, 0.0], [1743189300000, 0.0], [1743189600000, 2.4979901780429152], [1743189900000, 1.4009078460392665], [1743190200000, 0.3038255140356181], [1743190500000, 0.0], [1743190800000, 0.0], [1743191100000, 0.0], [1743191400000, 0.0], [1743191700000, 0.0], [1743192000000, 0.0], [1743192300000, 0.0], [1743192600000, 0.0], [1743192900000, 0.0], [1743193200000, 2.406975684117686], [1743193500000, 1.3098933521140375], [1743193800000, 0.21281102011038888], [1743194100000, 0.0], [1743194400000, 0.0], [1743194700000, 0.0], [1743195000000, 0.0], [1743195300000, 0.0], [1743195600000, 0.0], [1743195900000, 0.0], [1743196200000, 0.0], [1743196500000, 0.0], [1743196800000, 2.384222060636378], [1743197100000, 1.2871397286327293], [1743197400000, 0.19005739662908072], [1743197700000, 0.0], [1743198000000, 0.0], [1743198300000, 0.0], [1743198600000, 0.0], [1743198900000, 0.0], [1743199200000, 0.0], [1743199500000, 0.0], [1743199800000, 0.0], [1743200100000, 0.0], [1743200400000, 2.406975684117686], [1743200700000, 1.2871397286327302], [1743201000000, 0.1900573966290816], [1743201300000, 0.0], [1743201600000, 0.0], [1743201900000, 0.0], [1743202200000, 0.0], [1743202500000, 0.0], [1743202800000, 0.0], [1743203100000, 0.0], [1743203400000, 0.0], [1743203700000, 0.0], [1743204000000, 2.406975684117686], [1743204300000, 1.537429586927111], [1743204600000, 0.48585450188607715], [1743204900000, 0.0], [1743205200000, 0.0], [1743205500000, 0.0], [1743205800000, 0.0], [1743206100000, 0.0], [1743206400000, 0.0], [1743206700000, 0.0], [1743207000000, 0.0], [1743207300000, 0.0], [1743207600000, 2.4297293075989925], [1743207900000, 1.3098933521140366], [1743208200000, 0.212811020110388], [1743208500000, 0.0], [1743208800000, 0.0], [1743209100000, 0.0], [1743209400000, 0.0], [1743209700000, 0.0], [1743210000000, 0.0], [1743210300000, 0.0], [1743210600000, 0.0], [1743210900000, 0.0], [1743211200000, 2.4297293075989925], [1743211500000, 1.3098933521140366], [1743211800000, 0.28107189055431014], [1743212100000, 0.0], [1743212400000, 0.0], [1743212700000, 0.0], [1743213000000, 0.0], [1743213300000, 0.0], [1743213600000, 0.0], [1743213900000, 0.0], [1743214200000, 0.0], [1743214500000, 0.22262782991217867], [1743214800000, 2.6296035140298644], [1743215100000, 1.5097675585449084], [1743215400000, 0.4354388500225672], [1743215700000, 0.0], [1743216000000, 0.0], [1743216300000, 0.0], [1743216600000, 0.0], [1743216900000, 0.0], [1743217200000, 0.0], [1743217500000, 0.0], [1743217800000, 0.0], [1743218100000, 0.22262782991217867], [1743218400000, 2.6523571375111716], [1743218700000, 1.5097675585449084], [1743219000000, 0.41268522654125994], [1743219300000, 0.0], [1743219600000, 0.0], [1743219900000, 0.0], [1743220200000, 0.0], [1743220500000, 0.0], [1743220800000, 0.0], [1743221100000, 0.0], [1743221400000, 2.315961190192456], [1743221700000, 5.906125295338125], [1743222000000, 8.24484010901189], [1743222300000, 7.170511400489548], [1743222600000, 6.278211679817665], [1743222900000, 5.40866558262709], [1743223200000, 4.311583250623441], [1743223500000, 3.214500918619792], [1743223800000, 2.0946649631348357], [1743224100000, 1.2706261129068757], [1743224400000, 0.19629740438453447], [1743224700000, 0.0], [1743225000000, 0.0], [1743225300000, 0.04059884206171982], [1743225600000, 2.5385890201046353], [1743225900000, 1.4187530646196793], [1743226200000, 0.32167073261603085], [1743226500000, 0.0], [1743226800000, 0.0], [1743227100000, 0.0], [1743227400000, 0.0], [1743227700000, 0.0], [1743228000000, 0.0], [1743228300000, 0.0], [1743228600000, 0.0], [1743228900000, 0.13161333598694935], [1743229200000, 2.5385890201046353], [1743229500000, 1.4187530646196793], [1743229800000, 0.29891710913472336], [1743230100000, 0.0], [1743230400000, 0.0], [1743230700000, 0.0], [1743231000000, 0.0], [1743231300000, 0.0], [1743231600000, 0.0], [1743231900000, 0.0], [1743232200000, 0.0], [1743232500000, 0.0633524655430272], [1743232800000, 2.49308177314202], [1743233100000, 1.3732458176570639], [1743233400000, 0.2989171091347227], [1743233700000, 0.0], [1743234000000, 0.0], [1743234300000, 0.0], [1743234600000, 0.0], [1743234900000, 0.0], [1743235200000, 0.0], [1743235500000, 0.0], [1743235800000, 0.0], [1743236100000, 0.22262782991217867], [1743236400000, 2.67511076099248], [1743236700000, 1.623535675951446], [1743237000000, 0.7084823317982565], [1743237300000, 0.0], [1743237600000, 0.0], [1743237900000, 0.0], [1743238200000, 0.0], [1743238500000, 0.0], [1743238800000, 0.0], [1743239100000, 0.0], [1743239400000, 0.0], [1743239700000, 0.26813507687479343], [1743240000000, 2.697864384473786], [1743240300000, 1.6690429229140598], [1743240600000, 0.6174678378730258], [1743240900000, 0.0], [1743241200000, 0.0], [1743241500000, 0.0], [1743241800000, 0.0], [1743242100000, 0.0], [1743242400000, 0.0], [1743242700000, 0.0], [1743243000000, 0.0], [1743243300000, 0.1771205829495638], [1743243600000, 2.606849890548556], [1743243900000, 1.5097675585449075], [1743244200000, 0.4354388500225663], [1743244500000, 0.0], [1743244800000, 0.0], [1743245100000, 0.0], [1743245400000, 0.0], [1743245700000, 0.0], [1743246000000, 0.0], [1743246300000, 0.0], [1743246600000, 0.0], [1743246900000, 0.0633524655430272], [1743247200000, 2.49308177314202], [1743247500000, 1.3959994411383712], [1743247800000, 0.2989171091347226], [1743248100000, 0.0], [1743248400000, 0.0], [1743248700000, 0.0], [1743249000000, 0.0], [1743249300000, 0.0], [1743249600000, 0.0], [1743249900000, 0.0], [1743250200000, 0.0], [1743250500000, 0.0], [1743250800000, 2.475236554561608], [1743251100000, 1.4236614695205743], [1743251400000, 0.34933276099823307], [1743251700000, 0.0], [1743252000000, 0.0], [1743252300000, 0.0], [1743252600000, 0.0], [1743252900000, 0.0], [1743253200000, 0.0], [1743253500000, 0.0], [1743253800000, 0.0], [1743254100000, 0.0], [1743254400000, 2.4297293075989925], [1743254700000, 1.3781542225579588], [1743255000000, 0.30382551403561764], [1743255300000, 0.0], [1743255600000, 0.0], [1743255900000, 0.0], [1743256200000, 0.0], [1743256500000, 0.0], [1743256800000, 0.0], [1743257100000, 0.0], [1743257400000, 0.0], [1743257700000, 0.0], [1743258000000, 2.4524829310803007], [1743258300000, 1.3098933521140375], [1743258600000, 0.28107189055431103], [1743258900000, 0.0], [1743259200000, 0.0], [1743259500000, 0.0], [1743259800000, 0.0], [1743260100000, 0.0], [1743260400000, 0.0], [1743260700000, 0.0], [1743261000000, 0.0], [1743261300000, 0.0], [1743261600000, 2.384222060636378], [1743261900000, 1.264386105151422], [1743262200000, 0.19005739662908083], [1743262500000, 0.0], [1743262800000, 0.0], [1743263100000, 0.0], [1743263400000, 0.0], [1743263700000, 0.0]], "lineStyle": {"type": "dashed", "width": 1.5}, "itemStyle": {"color": "#EE6666"}, "showSymbol": false}], "dataZoom": [{"type": "slider", "show": true, "xAxisIndex": [0], "start": 0, "end": 100, "bottom": 10}, {"type": "inside", "xAxisIndex": [0], "start": 0, "end": 100}]};
        
        // 自定义tooltip处理函数
        chart.on('mouseover', function(params) {
            if (params.componentType === 'markPoint' && params.data && params.data.anomalyInfo) {
                var info = params.data.anomalyInfo;
                var content = 
                    '<div class="anomaly-tooltip">' +
                    '<div class="anomaly-tooltip-title">异常点 #' + info.id + '</div>' +
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">方法:</span><span class="anomaly-tooltip-value">' + info.method + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">时间:</span><span class="anomaly-tooltip-value">' + info.timestamp + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">数值:</span><span class="anomaly-tooltip-value">' + info.value.toFixed(2) + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">说明:</span><span class="anomaly-tooltip-value">' + info.explanation + '</span></div>' +
                    '</div>';
                
                chart.setOption({
                    tooltip: {
                        formatter: content,
                        extraCssText: 'padding: 0; border: none; background: transparent;'
                    }
                });
            }
            else if (params.componentType === 'markArea' && params.data && params.data[0] && params.data[0].anomalyInfo) {
                var info = params.data[0].anomalyInfo;
                var content = 
                    '<div class="anomaly-tooltip">' +
                    '<div class="anomaly-tooltip-title">异常区间 #' + info.id + '</div>' +
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">方法:</span><span class="anomaly-tooltip-value">' + info.method + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">开始:</span><span class="anomaly-tooltip-value">' + info.startTime + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">结束:</span><span class="anomaly-tooltip-value">' + info.endTime + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">说明:</span><span class="anomaly-tooltip-value">' + info.explanation + '</span></div>' +
                    '</div>';
                
                chart.setOption({
                    tooltip: {
                        formatter: content,
                        extraCssText: 'padding: 0; border: none; background: transparent;'
                    }
                });
            }
        });
        
        chart.on('mouseout', function(params) {
            if (params.componentType === 'markPoint' || params.componentType === 'markArea') {
                // 恢复默认tooltip
                chart.setOption({
                    tooltip: {
                        formatter: null,
                        extraCssText: option.tooltip.extraCssText
                    }
                });
            }
        });
        
        chart.setOption(option);
        window.addEventListener('resize', function() {
            chart.resize();
        });
    </script>
</body>
</html>