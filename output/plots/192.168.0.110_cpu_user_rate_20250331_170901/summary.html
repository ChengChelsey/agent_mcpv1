<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>192.168.0.110 cpu_user_rate 异常检测汇总图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #container { width: 100%; height: 100vh; }
        #chart_summary_47764992 { width: 100%; height: 650px; }
        
        /* 自定义异常点提示样式 */
        .anomaly-tooltip {
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #333;
            max-width: 300px;
        }
        .anomaly-tooltip-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #d23;
        }
        .anomaly-tooltip-item {
            display: flex;
            margin: 2px 0;
        }
        .anomaly-tooltip-label {
            font-weight: bold;
            margin-right: 8px;
            color: #666;
            min-width: 60px;
        }
        .anomaly-tooltip-value {
            color: #333;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="chart_summary_47764992"></div>
    </div>
    <script>
        var chart = echarts.init(document.getElementById('chart_summary_47764992'));
        var option = {"title": {"text": "192.168.0.110 cpu_user_rate 异常检测汇总图", "left": "center"}, "tooltip": {"trigger": "axis", "axisPointer": {"type": "cross"}, "confine": true, "backgroundColor": "rgba(255, 255, 255, 0.9)", "borderColor": "#ccc", "borderWidth": 1, "textStyle": {"color": "#333"}, "extraCssText": "box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);"}, "legend": {"top": 30, "data": ["原始序列", "CUSUM 辅助曲线"]}, "grid": {"left": "3%", "right": "8%", "bottom": "8%", "containLabel": true}, "toolbox": {"feature": {"saveAsImage": {}, "dataZoom": {}, "restore": {}}}, "xAxis": {"type": "time", "name": "时间", "axisLabel": {"formatter": "{yyyy}-{MM}-{dd} {HH}:{mm}", "rotate": 30, "margin": 15}}, "yAxis": [{"type": "value", "name": "数值", "position": "left"}, {"type": "value", "name": "辅助曲线值", "position": "right", "splitLine": {"show": false}}], "series": [{"name": "原始序列", "type": "line", "data": [[1743264000000, 0.15], [1743264300000, 0.11], [1743264600000, 0.14], [1743264900000, 0.14], [1743265200000, 0.12], [1743265500000, 0.12], [1743265800000, 0.17], [1743266100000, 0.13], [1743266400000, 0.13], [1743266700000, 0.14], [1743267000000, 0.11], [1743267300000, 0.18], [1743267600000, 0.13], [1743267900000, 0.12], [1743268200000, 0.12], [1743268500000, 0.83], [1743268800000, 0.91], [1743269100000, 0.1], [1743269400000, 0.12], [1743269700000, 0.12], [1743270000000, 0.13], [1743270300000, 0.1], [1743270600000, 0.12], [1743270900000, 0.12], [1743271200000, 0.11], [1743271500000, 0.13], [1743271800000, 0.12], [1743272100000, 0.15], [1743272400000, 1.67], [1743272700000, 0.12], [1743273000000, 0.11], [1743273300000, 0.09], [1743273600000, 0.13], [1743273900000, 0.11], [1743274200000, 0.13], [1743274500000, 0.1], [1743274800000, 0.13], [1743275100000, 0.1], [1743275400000, 0.13], [1743275700000, 0.13], [1743276000000, 1.63], [1743276300000, 0.12], [1743276600000, 0.11], [1743276900000, 0.11], [1743277200000, 0.12], [1743277500000, 0.13], [1743277800000, 0.11], [1743278100000, 0.12], [1743278400000, 0.16], [1743278700000, 0.11], [1743279000000, 0.14], [1743279300000, 0.11], [1743279600000, 1.67], [1743279900000, 0.12], [1743280200000, 0.19], [1743280500000, 0.12], [1743280800000, 0.14], [1743281100000, 0.12], [1743281400000, 0.12], [1743281700000, 0.11], [1743282000000, 0.12], [1743282300000, 0.13], [1743282600000, 0.12], [1743282900000, 0.28], [1743283200000, 1.67], [1743283500000, 0.13], [1743283800000, 0.12], [1743284100000, 0.12], [1743284400000, 0.12], [1743284700000, 0.1], [1743285000000, 0.12], [1743285300000, 0.1], [1743285600000, 0.13], [1743285900000, 0.1], [1743286200000, 0.13], [1743286500000, 0.1], [1743286800000, 1.65], [1743287100000, 0.09], [1743287400000, 0.13], [1743287700000, 0.12], [1743288000000, 0.1], [1743288300000, 0.12], [1743288600000, 0.12], [1743288900000, 0.13], [1743289200000, 0.12], [1743289500000, 0.13], [1743289800000, 0.19], [1743290100000, 0.14], [1743290400000, 1.67], [1743290700000, 0.15], [1743291000000, 0.14], [1743291300000, 0.14], [1743291600000, 0.12], [1743291900000, 0.11], [1743292200000, 0.12], [1743292500000, 0.11], [1743292800000, 0.13], [1743293100000, 0.1], [1743293400000, 0.12], [1743293700000, 0.14], [1743294000000, 1.66], [1743294300000, 0.13], [1743294600000, 0.16], [1743294900000, 0.12], [1743295200000, 0.11], [1743295500000, 0.12], [1743295800000, 0.11], [1743296100000, 0.11], [1743296400000, 0.13], [1743296700000, 0.11], [1743297000000, 0.12], [1743297300000, 0.15], [1743297600000, 1.67], [1743297900000, 0.12], [1743298200000, 0.15], [1743298500000, 0.1], [1743298800000, 0.13], [1743299100000, 0.1], [1743299400000, 0.13], [1743299700000, 0.12], [1743300000000, 0.13], [1743300300000, 0.13], [1743300600000, 0.12], [1743300900000, 0.32], [1743301200000, 1.67], [1743301500000, 0.13], [1743301800000, 0.14], [1743302100000, 0.13], [1743302400000, 0.16], [1743302700000, 0.12], [1743303000000, 0.14], [1743303300000, 0.12], [1743303600000, 0.15], [1743303900000, 0.12], [1743304200000, 0.15], [1743304500000, 0.51], [1743304800000, 1.68], [1743305100000, 0.13], [1743305400000, 0.14], [1743305700000, 0.13], [1743306000000, 0.11], [1743306300000, 0.14], [1743306600000, 0.13], [1743306900000, 0.12], [1743307200000, 0.15], [1743307500000, 0.14], [1743307800000, 1.66], [1743308100000, 0.49], [1743308400000, 1.69], [1743308700000, 0.11], [1743309000000, 0.24], [1743309300000, 0.12], [1743309600000, 0.16], [1743309900000, 0.12], [1743310200000, 0.13], [1743310500000, 0.11], [1743310800000, 0.15], [1743311100000, 0.12], [1743311400000, 0.14], [1743311700000, 0.39], [1743312000000, 1.67], [1743312300000, 0.14], [1743312600000, 0.15], [1743312900000, 0.13], [1743313200000, 0.15], [1743313500000, 0.14], [1743313800000, 0.13], [1743314100000, 0.13], [1743314400000, 0.15], [1743314700000, 0.13], [1743315000000, 0.21], [1743315300000, 0.21], [1743315600000, 1.68], [1743315900000, 0.12], [1743316200000, 0.15], [1743316500000, 0.11], [1743316800000, 0.17], [1743317100000, 0.12], [1743317400000, 0.14], [1743317700000, 0.13], [1743318000000, 0.15], [1743318300000, 0.13], [1743318600000, 0.12], [1743318900000, 0.3], [1743319200000, 1.67], [1743319500000, 0.14], [1743319800000, 0.13], [1743320100000, 0.11], [1743320400000, 0.14], [1743320700000, 0.11], [1743321000000, 0.14], [1743321300000, 0.12], [1743321600000, 0.16], [1743321900000, 0.12], [1743322200000, 0.12], [1743322500000, 0.36], [1743322800000, 1.66], [1743323100000, 0.13], [1743323400000, 0.12], [1743323700000, 0.12], [1743324000000, 0.14], [1743324300000, 0.12], [1743324600000, 0.14], [1743324900000, 0.15], [1743325200000, 0.13], [1743325500000, 0.12], [1743325800000, 0.13], [1743326100000, 0.34], [1743326400000, 1.67], [1743326700000, 0.12], [1743327000000, 0.16], [1743327300000, 0.16], [1743327600000, 0.13], [1743327900000, 0.12], [1743328200000, 0.14], [1743328500000, 0.15], [1743328800000, 0.15], [1743329100000, 0.14], [1743329400000, 0.14], [1743329700000, 0.31], [1743330000000, 1.65], [1743330300000, 0.13], [1743330600000, 0.13], [1743330900000, 0.14], [1743331200000, 0.15], [1743331500000, 0.12], [1743331800000, 0.14], [1743332100000, 0.14], [1743332400000, 0.18], [1743332700000, 0.11], [1743333000000, 0.15], [1743333300000, 0.34], [1743333600000, 1.68], [1743333900000, 0.11], [1743334200000, 0.13], [1743334500000, 0.12], [1743334800000, 0.12], [1743335100000, 0.11], [1743335400000, 0.12], [1743335700000, 0.13], [1743336000000, 0.13], [1743336300000, 0.17], [1743336600000, 0.13], [1743336900000, 0.28], [1743337200000, 1.66], [1743337500000, 0.14], [1743337800000, 0.14], [1743338100000, 0.13], [1743338400000, 0.24], [1743338700000, 0.13], [1743339000000, 0.14], [1743339300000, 0.1], [1743339600000, 0.12], [1743339900000, 0.11], [1743340200000, 0.14], [1743340500000, 0.36], [1743340800000, 1.67], [1743341100000, 0.14], [1743341400000, 0.15], [1743341700000, 0.12], [1743342000000, 0.13], [1743342300000, 0.12], [1743342600000, 0.13], [1743342900000, 0.12], [1743343200000, 0.14], [1743343500000, 0.13], [1743343800000, 0.15], [1743344100000, 0.37], [1743344400000, 1.67], [1743344700000, 0.11], [1743345000000, 0.14], [1743345300000, 0.1], [1743345600000, 0.17], [1743345900000, 0.09], [1743346200000, 0.13], [1743346500000, 0.11], [1743346800000, 0.12], [1743347100000, 0.11], [1743347400000, 0.13], [1743347700000, 0.33], [1743348000000, 1.66], [1743348300000, 0.12], [1743348600000, 0.12], [1743348900000, 0.12], [1743349200000, 0.13], [1743349500000, 0.12], [1743349800000, 0.12], [1743350100000, 0.09]], "symbolSize": 0, "lineStyle": {"width": 2}, "itemStyle": {"color": "#5470C6"}}, {"name": "CUSUM 辅助曲线", "type": "line", "yAxisIndex": 1, "data": [[1743264000000, 0.0], [1743264300000, 0.0], [1743264600000, 0.0], [1743264900000, 0.0], [1743265200000, 0.0], [1743265500000, 0.0], [1743265800000, 0.0], [1743266100000, 0.0], [1743266400000, 0.0], [1743266700000, 0.0], [1743267000000, 0.0], [1743267300000, 0.0], [1743267600000, 0.0], [1743267900000, 0.0], [1743268200000, 0.0], [1743268500000, 0.6375329916619727], [1743268800000, 1.465598690928075], [1743269100000, 0.36452072570236904], [1743269400000, 0.0], [1743269700000, 0.0], [1743270000000, 0.0], [1743270300000, 0.0], [1743270600000, 0.0], [1743270900000, 0.0], [1743271200000, 0.0], [1743271500000, 0.0], [1743271800000, 0.0], [1743272100000, 0.0], [1743272400000, 2.638126421505329], [1743272700000, 1.5846816331806555], [1743273000000, 0.5074202564054657], [1743273300000, 0.0], [1743273600000, 0.0], [1743273900000, 0.0], [1743274200000, 0.0], [1743274500000, 0.0], [1743274800000, 0.0], [1743275100000, 0.0], [1743275400000, 0.0], [1743275700000, 0.0], [1743276000000, 2.5428600677032644], [1743276300000, 1.4894152793785909], [1743276600000, 0.4121539026034011], [1743276900000, 0.0], [1743277200000, 0.0], [1743277500000, 0.0], [1743277800000, 0.0], [1743278100000, 0.0], [1743278400000, 0.0], [1743278700000, 0.0], [1743279000000, 0.0], [1743279300000, 0.0], [1743279600000, 2.638126421505329], [1743279900000, 1.5846816331806555], [1743280200000, 0.697952964009595], [1743280500000, 0.0], [1743280800000, 0.0], [1743281100000, 0.0], [1743281400000, 0.0], [1743281700000, 0.0], [1743282000000, 0.0], [1743282300000, 0.0], [1743282600000, 0.0], [1743282900000, 0.0], [1743283200000, 2.638126421505329], [1743283500000, 1.6084982216311714], [1743283800000, 0.5550534333064978], [1743284100000, 0.0], [1743284400000, 0.0], [1743284700000, 0.0], [1743285000000, 0.0], [1743285300000, 0.0], [1743285600000, 0.0], [1743285900000, 0.0], [1743286200000, 0.0], [1743286500000, 0.0], [1743286800000, 2.590493244604297], [1743287100000, 1.465598690928075], [1743287400000, 0.4359704910539175], [1743287700000, 0.0], [1743288000000, 0.0], [1743288300000, 0.0], [1743288600000, 0.0], [1743288900000, 0.0], [1743289200000, 0.0], [1743289500000, 0.0], [1743289800000, 0.0], [1743290100000, 0.0], [1743290400000, 2.638126421505329], [1743290700000, 1.6561313985322037], [1743291000000, 0.6503197871085624], [1743291300000, 0.0], [1743291600000, 0.0], [1743291900000, 0.0], [1743292200000, 0.0], [1743292500000, 0.0], [1743292800000, 0.0], [1743293100000, 0.0], [1743293400000, 0.0], [1743293700000, 0.0], [1743294000000, 2.614309833054813], [1743294300000, 1.5846816331806555], [1743294600000, 0.6265031986580465], [1743294900000, 0.0], [1743295200000, 0.0], [1743295500000, 0.0], [1743295800000, 0.0], [1743296100000, 0.0], [1743296400000, 0.0], [1743296700000, 0.0], [1743297000000, 0.0], [1743297300000, 0.0], [1743297600000, 2.638126421505329], [1743297900000, 1.5846816331806555], [1743298200000, 0.6026866102075303], [1743298500000, 0.0], [1743298800000, 0.0], [1743299100000, 0.0], [1743299400000, 0.0], [1743299700000, 0.0], [1743300000000, 0.0], [1743300300000, 0.0], [1743300600000, 0.0], [1743300900000, 0.0], [1743301200000, 2.638126421505329], [1743301500000, 1.6084982216311714], [1743301800000, 0.6026866102075301], [1743302100000, 0.0], [1743302400000, 0.0], [1743302700000, 0.0], [1743303000000, 0.0], [1743303300000, 0.0], [1743303600000, 0.0], [1743303900000, 0.0], [1743304200000, 0.0], [1743304500000, 0.0], [1743304800000, 2.661943009955845], [1743305100000, 1.6323148100816873], [1743305400000, 0.626503198658046], [1743305700000, 0.0], [1743306000000, 0.0], [1743306300000, 0.0], [1743306600000, 0.0], [1743306900000, 0.0], [1743307200000, 0.0], [1743307500000, 0.0], [1743307800000, 2.614309833054813], [1743308100000, 2.4420788173992367], [1743308400000, 5.127838415805598], [1743308700000, 4.050577039030408], [1743309000000, 3.282931312111928], [1743309300000, 2.229486523787254], [1743309600000, 1.2713080892646451], [1743309900000, 0.21786330093997153], [1743310200000, 0.0], [1743310500000, 0.0], [1743310800000, 0.0], [1743311100000, 0.0], [1743311400000, 0.0], [1743311700000, 0.0], [1743312000000, 2.638126421505329], [1743312300000, 1.6323148100816878], [1743312600000, 0.6503197871085626], [1743312900000, 0.0], [1743313200000, 0.0], [1743313500000, 0.0], [1743313800000, 0.0], [1743314100000, 0.0], [1743314400000, 0.0], [1743314700000, 0.0], [1743315000000, 0.0], [1743315300000, 0.0], [1743315600000, 2.661943009955845], [1743315900000, 1.6084982216311714], [1743316200000, 0.6265031986580463], [1743316500000, 0.0], [1743316800000, 0.0], [1743317100000, 0.0], [1743317400000, 0.0], [1743317700000, 0.0], [1743318000000, 0.0], [1743318300000, 0.0], [1743318600000, 0.0], [1743318900000, 0.0], [1743319200000, 2.638126421505329], [1743319500000, 1.6323148100816878], [1743319800000, 0.6026866102075303], [1743320100000, 0.0], [1743320400000, 0.0], [1743320700000, 0.0], [1743321000000, 0.0], [1743321300000, 0.0], [1743321600000, 0.0], [1743321900000, 0.0], [1743322200000, 0.0], [1743322500000, 0.0], [1743322800000, 2.614309833054813], [1743323100000, 1.5846816331806555], [1743323400000, 0.5312368448559819], [1743323700000, 0.0], [1743324000000, 0.0], [1743324300000, 0.0], [1743324600000, 0.0], [1743324900000, 0.0], [1743325200000, 0.0], [1743325500000, 0.0], [1743325800000, 0.0], [1743326100000, 0.0], [1743326400000, 2.638126421505329], [1743326700000, 1.5846816331806555], [1743327000000, 0.6265031986580465], [1743327300000, 0.0], [1743327600000, 0.0], [1743327900000, 0.0], [1743328200000, 0.0], [1743328500000, 0.0], [1743328800000, 0.0], [1743329100000, 0.0], [1743329400000, 0.0], [1743329700000, 0.0], [1743330000000, 2.590493244604297], [1743330300000, 1.5608650447301395], [1743330600000, 0.5312368448559821], [1743330900000, 0.0], [1743331200000, 0.0], [1743331500000, 0.0], [1743331800000, 0.0], [1743332100000, 0.0], [1743332400000, 0.0], [1743332700000, 0.0], [1743333000000, 0.0], [1743333300000, 0.0], [1743333600000, 2.661943009955845], [1743333900000, 1.584681633180655], [1743334200000, 0.5550534333064976], [1743334500000, 0.0], [1743334800000, 0.0], [1743335100000, 0.0], [1743335400000, 0.0], [1743335700000, 0.0], [1743336000000, 0.0], [1743336300000, 0.0], [1743336600000, 0.0], [1743336900000, 0.0], [1743337200000, 2.614309833054813], [1743337500000, 1.6084982216311718], [1743337800000, 0.6026866102075306], [1743338100000, 0.0], [1743338400000, 0.0], [1743338700000, 0.0], [1743339000000, 0.0], [1743339300000, 0.0], [1743339600000, 0.0], [1743339900000, 0.0], [1743340200000, 0.0], [1743340500000, 0.0], [1743340800000, 2.638126421505329], [1743341100000, 1.6323148100816878], [1743341400000, 0.6503197871085626], [1743341700000, 0.0], [1743342000000, 0.0], [1743342300000, 0.0], [1743342600000, 0.0], [1743342900000, 0.0], [1743343200000, 0.0], [1743343500000, 0.0], [1743343800000, 0.0], [1743344100000, 0.0], [1743344400000, 2.638126421505329], [1743344700000, 1.560865044730139], [1743345000000, 0.5550534333064978], [1743345300000, 0.0], [1743345600000, 0.0], [1743345900000, 0.0], [1743346200000, 0.0], [1743346500000, 0.0], [1743346800000, 0.0], [1743347100000, 0.0], [1743347400000, 0.0], [1743347700000, 0.0], [1743348000000, 2.614309833054813], [1743348300000, 1.5608650447301395], [1743348600000, 0.507420256405466], [1743348900000, 0.0], [1743349200000, 0.0], [1743349500000, 0.0], [1743349800000, 0.0], [1743350100000, 0.0]], "lineStyle": {"type": "dashed", "width": 1.5}, "itemStyle": {"color": "#EE6666"}, "showSymbol": false}], "dataZoom": [{"type": "slider", "show": true, "xAxisIndex": [0], "start": 0, "end": 100, "bottom": 10}, {"type": "inside", "xAxisIndex": [0], "start": 0, "end": 100}]};
        
        // 自定义tooltip处理函数
        chart.on('mouseover', function(params) {
            if (params.componentType === 'markPoint' && params.data && params.data.anomalyInfo) {
                var info = params.data.anomalyInfo;
                var content = 
                    '<div class="anomaly-tooltip">' +
                    '<div class="anomaly-tooltip-title">异常点 #' + info.id + '</div>' +
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">方法:</span><span class="anomaly-tooltip-value">' + info.method + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">时间:</span><span class="anomaly-tooltip-value">' + info.timestamp + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">数值:</span><span class="anomaly-tooltip-value">' + info.value.toFixed(2) + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">说明:</span><span class="anomaly-tooltip-value">' + info.explanation + '</span></div>' +
                    '</div>';
                
                chart.setOption({
                    tooltip: {
                        formatter: content,
                        extraCssText: 'padding: 0; border: none; background: transparent;'
                    }
                });
            }
            else if (params.componentType === 'markArea' && params.data && params.data[0] && params.data[0].anomalyInfo) {
                var info = params.data[0].anomalyInfo;
                var content = 
                    '<div class="anomaly-tooltip">' +
                    '<div class="anomaly-tooltip-title">异常区间 #' + info.id + '</div>' +
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">方法:</span><span class="anomaly-tooltip-value">' + info.method + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">开始:</span><span class="anomaly-tooltip-value">' + info.startTime + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">结束:</span><span class="anomaly-tooltip-value">' + info.endTime + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">说明:</span><span class="anomaly-tooltip-value">' + info.explanation + '</span></div>' +
                    '</div>';
                
                chart.setOption({
                    tooltip: {
                        formatter: content,
                        extraCssText: 'padding: 0; border: none; background: transparent;'
                    }
                });
            }
        });
        
        chart.on('mouseout', function(params) {
            if (params.componentType === 'markPoint' || params.componentType === 'markArea') {
                // 恢复默认tooltip
                chart.setOption({
                    tooltip: {
                        formatter: null,
                        extraCssText: option.tooltip.extraCssText
                    }
                });
            }
        });
        
        chart.setOption(option);
        window.addEventListener('resize', function() {
            chart.resize();
        });
    </script>
</body>
</html>